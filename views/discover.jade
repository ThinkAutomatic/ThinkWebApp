extends layout

block content
  div(data-role='page')
    <!-- assocDevice popup -->
    div(data-role='popup', id='assocDevicePopupDialog')
      div(data-role='header', data-position='inline')
        a(href='#', data-rel='back', data-ajax='false', class='ui-btn ui-btn-right')
          i(class='fa fa-close')
        h1(class='nd-title', id='assocDevicePopupTitle') Link Device
      div(data-role='content')
        form
          label(for='assocDeviceRoomSelect') Room:
          select(id='assocDeviceRoomSelect', name='assocDeviceRoomSelect')
            option(value='0') Other
            if home && home.rooms
              for room in home.rooms
                option(value=room.roomId)= room.name
          button(class='ui-btn', id='assocDeviceSubmit') Attempt Link

    div(data-role='header')
      a(href='/', class='ui-btn ui-btn-left')
        i(class='fa fa-arrow-circle-left')
      h1(style='text-align:center;')= title
    div(data-role='content')
      ul(data-role='listview', data-inset='false', data-icon='false')
        each d in devicesInfo
          li
            a(data-ajax='false', data-isHub='#{d.isHub}', data-directUrl='#{d.directUrl}', data-deviceId='#{d.deviceId}', data-deviceName='#{d.name}', class='ui-btn ui-btn-inline assocDevicePopup')= (d.name ? d.name : 'unnamed')
        else
          li
            a(href='/', data-ajax='false', class='ui-btn ui-btn-inline') No unassociated hubs or other devices discovered.

